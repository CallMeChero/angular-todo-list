<div class="modal-header">
    <h4 class="modal-title text-primary" id="modal-title" *ngIf="row; else noRow">Uređivanje zadatka</h4>
    <ng-template #noRow>
        <h4 class="modal-title text-primary" id="modal-title">Dodavanje zadatka</h4>
    </ng-template>
</div>
<div class="modal-body pb-0">
    <form [formGroup]="taskGroup" (ngSubmit)="onSubmit()" #myForm="ngForm">
        <div class="custom-card-body row">
            <div class="col-sm-12 col-md-12 col-lg-6 mb-3">
                <label for="title" class="required">Naslov</label>
                <input type="text" class="form-control" id="title" name="title" placeholder="Naslov zadatka"
                    formControlName="title"
                    [ngClass]="{'is-invalid': title.invalid && (title.dirty || title.touched || myForm.submitted)}"
                    autocomplete="off">
                <div class="invalid-feedback">Polje je obavezno</div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 mb-3">
                <label for="name" class="required">Ime</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Ime zadatka"
                    formControlName="name"
                    [ngClass]="{'is-invalid': name.invalid && (name.dirty || name.touched || myForm.submitted)}"
                    autocomplete="off">
                <div class="invalid-feedback">Polje je obavezno</div>
            </div>
            <div class="col-lg-6 col-md-12 col-sm-12 mb-3">
                <label for="dateCreated" class="required">Datum izrade</label>
                <div class="input-group">
                    <input class="form-control" [minDate]="{year: 2020, month: 1, day: 1}" placeholder="dd.mm.yyyy."
                        name="dp" formControlName="dateCreated" ngbDatepicker #d="ngbDatepicker" [readonly]="true"
                        [ngClass]="{'is-invalid': dateCreated.invalid && (dateCreated.dirty || dateCreated.touched || myForm.submitted)}">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary p-1" (click)="d.toggle()" type="button">
                            <i class="fa fa-calendar m-1"></i>
                        </button>
                    </div>
                    <div class="invalid-feedback">Polje je obavezno</div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12 col-sm-12"></div>
            <div class="col-lg-6 col-md-12 col-sm-12 ml-3 form-check">
                <input type="checkbox" class="form-check-input" id="isCompleted" formControlName="isCompleted">
                <label class="form-check-label" for="isCompleted">Završen</label>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-12 my-3">
                <label for="description" class="required">Opis</label>
                <textarea class="form-control" placeholder="Opis zadatka" rows="3" formControlName="description"
                [ngClass]="{'is-invalid': description.invalid && (description.dirty || description.touched || myForm.submitted)}"></textarea>
                <div class="invalid-feedback">Polje je obavezno</div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary btn-rounded mr-auto" (click)="modal.close()">
                Odustani
            </button>
            <button type="submit" class="btn btn-primary btn-rounded">
                Spremi
            </button>
        </div>
    </form>
</div>